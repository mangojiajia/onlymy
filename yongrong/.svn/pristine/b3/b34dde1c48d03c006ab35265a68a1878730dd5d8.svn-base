using System;
using System.Collections.Generic;
using System.ComponentModel.DataAnnotations.Schema;
using System.Text;
using Yongrong.Model.Int;

namespace Yongrong.Model.Db
{
    public partial class SafeCheck
    {
        public decimal Id { get; set; }
        public string Checktime { get; set; }
        public string Driver { get; set; }
        public string Tractorid { get; set; }
        public string Trailerid { get; set; }
        public string Expburn { get; set; }
        public string Tire { get; set; }
        public string Supercargo { get; set; }
        public string Helmet { get; set; }
        public string Smock { get; set; }
        public string Workshoe { get; set; }
        public string Remark { get; set; }
        public string Checkman { get; set; }
        public string Createtime { get; set; }


        #region 门禁通行记录汇总表所加字段
        /// <summary>
        /// 进厂时间
        /// </summary>
        [NotMapped]
        public string Entertime { get; set; }
        /// <summary>
        /// 出厂时间
        /// </summary>
        [NotMapped]
        public string Leavetime { get; set; }


        /// <summary>
        /// 证件
        /// </summary>
        [NotMapped]
        public string Certificate { get; set; }
        /// <summary>
        /// 出厂时间
        /// </summary>
        //public string Leavetime { get; set; }
        #endregion
        public void Upd(SafeCheck old)
        {
            old.Checktime = this.Checktime;
            old.Driver = this.Driver;
            old.Tractorid = this.Tractorid;
            old.Trailerid = this.Trailerid;
            old.Expburn = this.Expburn;
            old.Tire = this.Tire;
            old.Supercargo = this.Supercargo;
            old.Helmet = this.Helmet;
            old.Smock = this.Smock;
            old.Workshoe = this.Workshoe;
            old.Remark = this.Remark;
            old.Checkman = this.Checkman;
        }

        public  string Check()
        {
            if ("合格" != Expburn)
            {
                return "Expburn不合格";
            }

            Expburn = Expburn.Trim();

            if ("合格" != Tire)
            {
                return "不合格";
            }

            Tire = Tire.Trim();

            if ("合格" != Helmet)
            {
                return "Helmet 不合格";
            }

            Helmet = Helmet.Trim();

            if ("合格" != Smock)
            {
                return "Smock 不合格";
            }

            Smock = Smock.Trim();

            if ("合格" != Workshoe)
            {
                return "Workshoe 不合格";
            }

            Workshoe = Workshoe.Trim();

            return BaseReq.Success;
        }
    }
}
